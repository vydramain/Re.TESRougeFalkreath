<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" dir="ltr" lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>
    ru:bearlibterminal:design    [divergence]
  </title>

  <meta name="generator" content="DokuWiki">
<meta name="robots" content="index,follow">
<meta name="date" content="2014-04-06T00:07:25+0400">
<meta name="keywords" content="ru,bearlibterminal,design">
<link rel="search" type="application/opensearchdescription+xml" href="http://foo.wyrd.name/lib/exe/opensearch.php" title="divergence">
<link rel="start" href="http://foo.wyrd.name/">
<link rel="contents" href="http://foo.wyrd.name/ru:bearlibterminal:design?do=index" title="Sitemap">
<link rel="alternate" type="application/rss+xml" title="Recent changes" href="http://foo.wyrd.name/feed.php">
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="http://foo.wyrd.name/feed.php?mode=list&amp;ns=ru:bearlibterminal">
<link rel="alternate" type="text/html" title="Plain HTML" href="http://foo.wyrd.name/_export/xhtml/ru:bearlibterminal:design">
<link rel="alternate" type="text/plain" title="Wiki Markup" href="http://foo.wyrd.name/_export/raw/ru:bearlibterminal:design">
<link rel="canonical" href="http://foo.wyrd.name/ru:bearlibterminal:design">
<link rel="stylesheet" type="text/css" href="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/css.css">
<link rel="stylesheet" type="text/css" href="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/shCore.css">
<link rel="stylesheet" type="text/css" href="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/shThemeDefault.css">
<script type="text/javascript">/*<![CDATA[*/var NS='ru:bearlibterminal';var JSINFO = {"id":"ru:bearlibterminal:design","namespace":"ru:bearlibterminal"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/js.php"></script>
<script type="text/javascript" src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/shCore.js"></script>
<script type="text/javascript" src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/shAutoloader.js"></script>
<script type="text/javascript" src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/shBrushXml.js"></script>
  <link rel="shortcut icon" href="http://foo.wyrd.name/lib/tpl/raw/images/favicon.ico">

  </head>

<body>
<div class="dokuwiki">

  
  <!--
  <h1><a href="/start"  name="dokuwiki__top" id="dokuwiki__top" accesskey="h" title="[H]">divergence</a></h1>
  -->

  <div class="navi">
      </div>
  
  <div class="plugin_translation"><ul><li><div class="li"><a href="http://foo.wyrd.name/en:bearlibterminal:design" class="wikilink1" title="en">en</a></div></li><li><div class="li"><a href="http://foo.wyrd.name/ru:bearlibterminal:design" class="wikilink1 cur" title="ru">ru</a></div></li></ul></div>
  <div class="stylehead">

    
    
    
  </div>
  
  
  <div class="page">
    <!-- wikipage start -->
    
<p>
</p><h2><a href="http://foo.wyrd.name/en:bearlibterminal">BearLibTerminal</a> / Общий дизайн</h2>
<p></p>
<div class="level2">

<p>
Основной целью библиотеки BearLibTerminal является (по крайней мере, так
 задумывалось) предоставление приложению окна, напоминающего внешним 
видом системную консоль, но куда более настраиваемого и заточенного 
больше под разработку roguelike игр. Вот, к примеру, как это окно может 
выглядеть. Найдите 10 отличий от оригиналов =)
</p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:impersonated_gnome_terminal_v2.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:impersonated_gnome_terminal_v2.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminalimpersonated_gnome_terminal_v2.png" class="media" alt=""></a> <a href="http://foo.wyrd.name/_detail/en:bearlibterminal:impersonated_putty_v2.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:impersonated_putty_v2.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminalimpersonated_putty_v2.png" class="media" alt=""></a>
</p>

<p>
Такое окно, впрочем, только лишь выглядит как терминал. То, как оно 
работает, сильно отличается от обычной системной консоли. Библиотека не 
предоставляет стандартных потоков ввода/вывода для чтения и записи. 
Вместо этого предоставляется сетка индивидуально адресуемых 
ячеек-знакомест, <em>сцена</em>.
</p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:design_grid_v2.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:design_grid_v2.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminaldesign_grid_v2.png" class="media" alt=""></a>
</p>

<p>
Точнее, сцена это не одна сетка ячеек, а целый набор таких сеток, именуемых <em>слоями</em>. Для простой игры, вероятно, не потребуется более одного слоя, но иногда они могут быть незаменимы.
</p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:design_layers.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:design_layers.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminaldesign_layers.png" class="media" alt=""></a>
</p>

<p>
Каждая ячейка, в свою очередь, может содержать набор <em>тайлов</em>. 
Так как библиотека полностью поддерживает альфа-канал (прозрачность) 
изображений, возможность положить в ячейку несколько тайлов фактически 
означает возможность комбинации нескольких изображений в одно. Что 
сравнимо с генерацией изображение из частей на лету, например вместо 
подготовки всех возможных комбинаций. Следует отметить, что каждый тайл в
 “стопке” может иметь свой собственный цвет.
</p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:design_cell_composing.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:design_cell_composing.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminaldesign_cell_composing.png" class="media" alt=""></a>
</p>

<p>
Более того, каждый тайл может иметь свое собственное смещение относительно некоторого положения по умолчанию в ячейке.
</p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:design_cell_offsets.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:design_cell_offsets.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminaldesign_cell_offsets.png" class="media" alt=""></a>
</p>

<p>
Теперь рассмотрим откуда эти тайлы берутся.
</p>

</div>

<h3 id="тайлы_и_слоты">Тайлы и слоты</h3>
<div class="level3">

<p>
В библиотеке BearLibTerminal каждому коду символа может быть назначен 
свой тайл, например тайл для '@' или тайл для '#'. Диапазон кодов 
символов, используемый библиотекой – это <a href="http://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane" class="urlextern" title="http://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane" rel="nofollow">basic multilingual plane</a> Юникода. Это означает, что в наличии имеется около 65 тысяч слотов для тайлов.
</p>

<p>
Назначить одиночный тайл слоту очень просто:
</p><div><div id="highlighter_553617" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"0x5E: tile.png"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
<p></p>

<p>
Что фактически замещает предыдущее содержимое слота новым изображением. В
 приведенном примере это был символ “циркумфлекс” или, по-простому, 
“крышечка”. С этого момента новый тайл может использоваться как и любой 
другой символ:
</p><div><div id="highlighter_467626" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_put(2, 1, 0x5E);</code></div><div class="line number2 index1 alt1"><code class="cpp plain">terminal_print(2, 2, </code><code class="cpp string">"once again: ^"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
<p></p>

<p>
Что даст примерно следующий результат:
</p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:design_single_tile.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:design_single_tile.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminaldesign_single_tile.png" class="media" alt=""></a>
</p>

<p>
Следует отметить, что размер тайла практически не ограничивается 
библиотекой. Можно использовать тайлы размером хоть с целое окно, 
например в качестве фонового изображения в меню. По умолчанию тайл 
выводится центрированным в ячейке, но это может быть легко 
переопределено.
</p>

</div>

<h3 id="растровые_тайлсеты">Растровые тайлсеты</h3>
<div class="level3">

<p>
Назначение новых изображений-тайлов слотам поодиночке может быть 
утомительной задачей и вообще контрпродуктивно. BearLibTerminal 
позволяет загружать разом целые тайлсеты. Пусть есть некоторый тайлсет, 
состоящий из четырех изображений 16×16. Он может быть загружет 
практически так же, как и одиночный тайл:
</p><div><div id="highlighter_251547" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"0x1000: tileset.png, size=16x16"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
<p></p>

<p>
Единственным отличием оказывается указание размера отдельного 
изображения в картинке-тайлсете. Библиотека разрежет картинку на кусочки
 и назначит их кодам символов. Порядок, в котором BearLibTerminal будет 
нарезать тайлсет фиксирован: строка за строкой, слева направо. По 
умолчанию тайлы назначаются последовательным слотам. В приведенном 
примере тайлы будут ассоциированы с четырьмя кодами символов, с 0x1000 
по 0x1003 включительно.
</p>

<p>
Нет существенной разницы между одиночным тайлом и тайлсетом. Один тайл это просто маленький тайлсет из одного изображения.
</p>

<p>
Номер, указанный в качестве стартового кода символа, идентифицирует тайл
 или тайлсет. Для того, чтобы удалить тайлсет, достаточно просто 
указать, что в этом слоте ничего нет:
</p><div><div id="highlighter_793680" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"0x5E: none; 0x1000: none"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
<p></p>

</div>

<h3 id="растровые_шрифты_и_кодовые_страницы">Растровые шрифты и кодовые страницы</h3>
<div class="level3">

<p>
В использовании растровых тайлсетов в качестве шрифта есть один нюанс. 
Дело в том, что BearLibTerminal использует кодовое пространство Юникода 
для тайлов. Обычно можно просто написать:
</p><div><div id="highlighter_769841" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_print(</code><code class="cpp string">"Unicode: β"</code><code class="cpp plain">); </code><code class="cpp comments">// UTF-8</code></div></div></td></tr></tbody></table></div></div>
Библиотека для вывода греческого символа “бета” попытается использовать 
тайл из слота U+03B2, по номеру назначенному стандартом Юникод. Но 
большинство растровых шрифтов представляют собой одну картинку с 
более-менее плотно упакованными символами, например:
<p></p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:yoshis_island_opaque.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:yoshis_island_opaque.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminalyoshis_island_opaque.png" class="media" alt=""></a>
</p>

<p>
Хотя символ “беты” имеет код 0x03B2 в Юникоде, в картинке шрифта он 
может располагаться где угодно. Например, в шрифтах для Dwarf Fortress, 
один из которых и продемонстрирован выше, символ “бета” располагается во
 второй колонке пятнадцатой строки, т. е. под номером 225. Что далеко от
 0x03B2. И как ни выбирай стартовый код символа для тайлсета, 
расположить все символы в соответствии с их кодами по Юникоду не 
получится.
</p>

<p>
Для решения этой проблемы используются <em>кодовые страницы</em>, 
таблицы соответствия кодов символов двух кодовых пространств. В данном 
случае это таблица соответствия индексов тайлов в картинке кодам 
Юникода. Указав кодовую страницу при загрузке тайлсета можно заставить 
библиотеку разместить тайлы не в последовательных слотах, а в 
соответствии со списком:
</p><div><div id="highlighter_858190" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"font: Nobbins.png, size=9x12, codepage=437"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
<p></p>

<p>
Коды в кодовой странице трактуются как смещение от стартового кода 
символа тайлсета. В приведенном примере библиотека возьмет соответсвие 
225 индекса Юникоду (0x03B2 для кодовой страницы 437) и, добавив его к 
стартовому коду (где <code>“font”</code> это просто синоним числа ноль), поместит символ “беты” в корректный слот.
</p>

<p>
Так сложилось, что шрифты для Dwarf Fortress выполнены в кодовой 
странице 437. В библиотеку встроено несколько кодовых страниц, а именно <a href="http://en.wikipedia.org/wiki/Code_page_437" class="urlextern" title="http://en.wikipedia.org/wiki/Code_page_437" rel="nofollow">437</a>, <a href="http://en.wikipedia.org/wiki/Code_page_866" class="urlextern" title="http://en.wikipedia.org/wiki/Code_page_866" rel="nofollow">866</a>, <a href="http://en.wikipedia.org/wiki/Windows-1250" class="urlextern" title="http://en.wikipedia.org/wiki/Windows-1250" rel="nofollow">1250</a> and <a href="http://en.wikipedia.org/wiki/Windows-1251" class="urlextern" title="http://en.wikipedia.org/wiki/Windows-1251" rel="nofollow">1251</a>. Однако, можно использовать любую кодовую страницу, например составленную вручную, указав имя файла с таблицей:
</p><div><div id="highlighter_246636" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"font: font.png, size=9x12, codepage=custom.txt"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
<p></p>

<p>
Как можно заметить, используемый библиотекой основной шрифт – это просто тайлсет, загруженный со стартового кода символа <code>“0”</code>. В библиотеке имеется встроенный растровый шрифт, сгенерированный из шрифта <a href="http://www.fixedsysexcelsior.com/" class="urlextern" title="http://www.fixedsysexcelsior.com/" rel="nofollow">Fixedsys Excelsior</a> с кодовой страницей, идентичной набору символов <a href="http://en.wikipedia.org/wiki/Windows_Glyph_List_4" class="urlextern" title="http://en.wikipedia.org/wiki/Windows_Glyph_List_4" rel="nofollow">WGL4</a>. Этот шрифт устанавливается автоматически при инициализации библиотеки.
</p>

</div>

<h3 id="truetype_tilesets">TrueType tilesets</h3>
<div class="level3">

<p>
Своеобразной киллер-фичей BearLibTerminal является возможность 
использовать шрифты TrueType в качестве источника для тайлсетов. Можно 
использовать их в качестве основного шрифта:
</p><div><div id="highlighter_534716" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"font: UbuntuMono-R.ttf, size=12"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
И библиотека самостоятельно растеризует необходимые тайлы и поместит их в
 нужные слоты. Пример этого уже приводился в самом начале страницы:
<p></p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:impersonated_gnome_terminal_v2.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:impersonated_gnome_terminal_v2.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminalimpersonated_gnome_terminal_v2.png" class="media" alt=""></a>
</p>

<p>
TrueType тайлсеты работают практически так же, как и растровые. Можно 
загрузить несколько таких тайлсетов, назначив им разные стартовые коды 
символов. Однако, есть и различия.
</p>

<p>
Простейшее отличие заключается в том, как TrueType тайлсет понимает параметр <code>“size”</code>.
 В данном случае этот параметр означает размер, в который будет 
растеризован векторный глиф шрифта, и этот размер можно задать двумя 
способами:
</p>
<ul>
<li class="level1"><div class="li"> <code>size=12</code>: задает среднюю
 высоту строчной буквы, в пикселях. Следует отметить, что в зависимости 
от гарнитуры, результирующий размер тайла может сильно отличаться.</div>
</li>
<li class="level1"><div class="li"> <code>size=8×16</code>: задает 
непосредственно размер тайла. Библиотека постарается подобрать 
максимальный размер шрифта, который вписывается в указанные рамки.</div>
</li>
</ul>

<p>
Другим отличием является то, что смысл указываемой кодовой страницы 
фактически обратен таковому для растрового шрифта. Современные TrueType 
как правило имеют встроенную кодовую страницу для Юникода, так что 
библиотеке BearLibTerminal нет необходимости в помощи со стороны 
программиста, чтобы понять куда какие тайлы идут. Это также означает, 
что загрузка TrueType тайлсета начиная с какого-то произвольного 
стартового кода символа добавит смещение к изначально правильному 
расположению тайлов. Поэтому кодовая страница для TrueType-тайлсета 
описывает обратное соответствие: от кодов Юникода к относительным 
индексам. Это позволяет загрузить выбранный набор символов из TrueType 
шрифта в несколько последовательно расположенных слотов. Например:
</p><div><div id="highlighter_471950" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"0xE000: fontawesome.ttf, size=16x16, codepage=fontawesome.txt"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
с учетом следующей “кодовой страницы”
<p></p>
<pre class="code">0xF00C, 0xF062, 0xF001, 0xF0E7, 0xF013, 0xF043</pre>

<p>
поместит ровно шесть пиктограмм из шрифта <a href="http://fortawesome.github.io/Font-Awesome/" class="urlextern" title="http://fortawesome.github.io/Font-Awesome/" rel="nofollow">FontAwesome</a> в слоты с 0xE000 по 0xE005 включительно.
</p>

</div>

<h3 id="tile_alignment">Tile alignment</h3>
<div class="level3">

<p>
Как было отмечено выше, тайлы имеют свойство выравнивания в ячейке. Все 
тайлы в тайлсете имеют одинаковое выравнивание, задаваемое при загрузке 
тайлсета:
</p><div><div id="highlighter_178073" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"0xE000: tileset.png, size=10x20, align=center"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
Выравнивание по умолчанию – <code>“center”</code> и может быть опущено. 
Это выравнивание в основном полезно для тайлов символов, потому что 
тогда они располагаются привычным образом плюс скрадываются некоторые 
отличия в размере отдельных тайлов.
<p></p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:design_align_center_v2.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:design_align_center_v2.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminaldesign_align_center_v2.png" class="media" alt=""></a>
</p>

<p>
Другие возможные значения выравнивания – это <code>“top-left”</code>, <code>“bottom-left”</code>, <code>“top-right”</code> и <code>“bottom-right”</code>.
 Выравнивание по верхнему левому углу полезно для тайлов, размером 
существенно больших одного знакоместа, например тайлов уровня или 
изображений монстров в книге.
</p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:design_align_topleft.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:design_align_topleft.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminaldesign_align_topleft.png" class="media" alt=""></a>
</p>

<p>
Выравнивание может быть еще немного настроено посредством указания 
размера региона выравнивания. По умолчанию размер региона 1×1 клетка, но
 он может быть переопределен:
</p><div><div id="highlighter_88835" class="syntaxhighlighter nogutter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">terminal_set(</code><code class="cpp string">"0xE000: tileset.png, size=20x20, align=center, bbox=2x1"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
Что может быть удобно, скажем, при выводе монстров размером в несколько клеток или символов дополнительного шрифта.
<p></p>

<p>
<a href="http://foo.wyrd.name/_detail/en:bearlibterminal:design_align_bbox.png?id=ru%3Abearlibterminal%3Adesign" class="media" title="en:bearlibterminal:design_align_bbox.png"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/enbearlibterminaldesign_align_bbox.png" class="media" alt=""></a>
</p>

</div>

<script type="text/javascript">
  SyntaxHighlighter.autoloader(
    'applescript /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushAppleScript.js',
    'actionscript3 as3 /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushAS3.js',
    'bash shell /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushBash.js',
    'coldfusion cf /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushColdFusion.js',
    'cpp c /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushCpp.js',
    'c# c-sharp csharp /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushCSharp.js',
    'css /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushCss.js',
    'delphi pascal /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushDelphi.js',
    'diff patch pas /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushDiff.js',
    'erl erlang /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushErlang.js',
    'groovy /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushGroovy.js',
    'java /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushJava.js',
    'jfx javafx /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushJavaFX.js',
    'js jscript javascript /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushJScript.js',
    'lua /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushLua.js',
    'perl pl /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPerl.js',
    'php /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPhp.js',
    'text plain /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPlain.js',
    'ps powershell /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPowerShell.js',
    'py python /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushPython.js',
    'ruby rails ror rb /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushRuby.js',
    'sass scss /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushSass.js',
    'scala /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushScala.js',
    'sql /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushSql.js',
    'vb vbnet /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushVb.js',
    'xml xhtml xslt html /lib/plugins/syntaxhighlighter3/sxh3/scripts/shBrushXml.js'
  );
  SyntaxHighlighter.all();
</script>

    <!-- wikipage stop -->
  </div>

  <div class="clearer"></div>

  
  <div class="stylefoot">

    
    <div class="bar" id="bar__bottom">
        <form class="button btn_source" method="post" action="/ru:bearlibterminal:design"><div class="no"><input type="hidden" name="do" value="edit"><input type="hidden" name="rev" value="0"><input type="submit" value="Show pagesource" class="button" accesskey="v" title="Show pagesource [V]"></div></form>        <form class="button btn_revs" method="get" action="/ru:bearlibterminal:design"><div class="no"><input type="hidden" name="do" value="revisions"><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]"></div></form>                        <form class="button btn_media" method="get" action="/ru:bearlibterminal:design"><div class="no"><input type="hidden" name="do" value="media"><input type="hidden" name="ns" value="ru:bearlibterminal"><input type="submit" value="Media Manager" class="button" title="Media Manager"></div></form>                        <form class="button btn_login" method="get" action="/ru:bearlibterminal:design"><div class="no"><input type="hidden" name="do" value="login"><input type="hidden" name="sectok" value="ed64ffb76967d3127f157e140a699c46"><input type="submit" value="Login" class="button" title="Login"></div></form>        <form class="button btn_index" method="get" action="/ru:bearlibterminal:design"><div class="no"><input type="hidden" name="do" value="index"><input type="submit" value="Sitemap" class="button" accesskey="x" title="Sitemap [X]"></div></form>        <a class="nolink" href="#dokuwiki__top"><input type="button" class="button" value="Back to top" onclick="window.scrollTo(0, 0)" title="Back to top"></a>&nbsp;
    </div>

  </div>

  
</div>

<div class="no"><img src="BearLibTerminal(%D0%9E%D0%B1%D1%89%D0%B0%D1%8F%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F)_files/indexer.gif" alt="" width="2" height="1"></div>


</body></html>